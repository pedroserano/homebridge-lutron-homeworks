{
   "pluginAlias": "LutronHomeworks",
   "pluginType": "platform",
   "singular": true,
   "headerDisplay": "Homebridge plugin for the circa 2005 Lutron Homeworks System",
   "schema": {
      "$schema": "http://json-schema.org/schema",
      "type": "object",
      "properties": {
         "name": {
            "title": "Name",
            "type": "string",
            "default": "Lutron Homeworks",
            "required": true
         },
         "connectionType": {
        "title": "Connection Type",
        "type": "string",
        "default": "serial",
        "oneOf": [
          { "title": "Serial (RS-232)", "enum": ["serial"] },
          { "title": "TCP/Telnet (Ethernet)", "enum": ["tcp"] }
        ],
        "required": true
      },
         "serialPath": {
        "title": "Serial Port Path",
        "type": "string",
        "placeholder": "/dev/ttyUSB0",
        "condition": {
          "functionBody": "return model.connectionType === 'serial';"
        }
      },
         "host": {
        "title": "Lutron IP Address",
        "type": "string",
        "format": "hostname",
        "placeholder": "192.168.1.100",
        "condition": {
          "functionBody": "return model.connectionType === 'tcp';"
        }
      },
      "port": {
        "title": "Lutron Port",
        "type": "integer",
        "default": 23,
        "placeholder": "23",
        "condition": {
          "functionBody": "return model.connectionType === 'tcp';"
        }
      },
      "loginRequired": {
        "title": "Login Required",
        "type": "boolean",
        "default": false
      },
      "username": {
        "title": "Username",
        "type": "string",
        "default": "lutron"
      },
      "password": {
        "title": "Password",
        "type": "string",
        "default": "jetski"
      },
         "baudRate": {
            "default": 115200,
            "title": "Baud Rate",
            "type": "integer",
            "condition": {
          "functionBody": "return model.connectionType === 'serial';"
        },
            "oneOf": [
              { "title": "300", "enum": [300] },
              { "title": "600", "enum": [600] },
              { "title": "1200", "enum": [1200] },
              { "title": "2400", "enum": [2400] },
              { "title": "4800", "enum": [4800] },
              { "title": "9600", "enum": [9600] },
              { "title": "19200", "enum": [19200] },
              { "title": "38400", "enum": [38400] },
              { "title": "57600", "enum": [57600] },
              { "title": "115200", "enum": [115200] }
            ],
            "required": true
         },
         "loginRequired": {
            "title": "Password Required",
            "type": "boolean",
            "default": false,
            "required": true
         },
         "password": {
            "title": "Password",
            "type": "string",
            "condition": {
               "functionBody": "return model.loginRequired === true;"
            }
         },
         "defaultFadeTime": {
            "title": "Default Fade Time",
            "type": "integer",
            "default": 1,
            "minimum": 0,
            "description": "This sets the default fade time in seconds for all devices"
         },
         "devices": {
            "title": "Devices",
            "items": {
               "properties": {
                  "address": {
                     "type": "string",
                     "placeholder": "<< 01:04:01:03:01 >>",
                     "required": true,
                     "description": "This is the address of the Lutron device inside Homeworks"
                  },
                  "name": {
                     "type": "string",
                     "placeholder": "<< NAME >>",
                     "description": "This sets the name of this device in the HomeKit UI"
                  },
                  "fadeTime": {
                     "type": "integer",
                     "placeholder": "<< 1 >>",
                     "minimum": 0,
                     "description": "This sets the fade time for this specific device. This overwrites the specified default fade time."
                  }
               },
               "type": "object"
            },
            "type": "array",
            "description": "List of devices to rename within the HomeKit UI"
         },
         "ignoreDevices": {
            "title": "Ignore Devices",
            "uniqueItems": true,
            "items": {
               "type": "string",
               "placeholder": "<< 01:04:01:03:01 >>"
            },
            "type": "array",
            "description": "List of devices to not add into HomeKit"
         }
      },
      "additionalProperties": true
   }
}
